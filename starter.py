LOGFILE = "sample_auth_small.log"  
# Назва файлу з логами, який будемо читати (можна змінити за потреби)

def simple_parser(line):
    """
    Шукає підрядок ' port ' у рядку та повертає номер порту, що йде після нього.
    Повертає None, якщо не знаходить.
    """
    
    if " port " in line:                      # Перевіряємо, чи є слово "port" у рядку
        parts = line.split()                  # Розбиваємо рядок на слова (токени) через пробіл
        
        try:
            anchor = parts.index("port")      # Знаходимо індекс слова "port" у списку токенів
            port = parts[anchor + 1]          # Порт — це наступне слово після "port"
            return port.strip()               # Повертаємо порт, очищаючи від пробілів та знаків пунктуації
        
        except (ValueError, IndexError):      # Якщо "port" не знайдений або немає слова після нього
            return None                        # Повертаємо None

    return None                                # Якщо "port" немає у рядку, повертаємо None


# Основний блок програми, який запускається першим
if __name__ == "__main__":                     # Перевірка, що файл запускається напряму, а не імпортується
    with open(LOGFILE, "r") as f:              # Відкриваємо лог-файл для читання
        for line in f:                         # Читаємо файл рядок за рядком
            print(simple_parser(line.strip())) # Викликаємо парсер і друкуємо результат
